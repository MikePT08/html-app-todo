<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>My Todo List- My ASP.NET MVC Application</title>
    <link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <meta name="viewport" content="width=device-width" />
    <link href="Content/Site.css" rel="stylesheet" />
    <link href="Content/TodoList.css" rel="stylesheet" />
    <script src="Scripts/modernizr-2.6.2.js"></script>
    <link href="Content/themes/base/jquery.ui.core.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.resizable.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.selectable.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.accordion.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.autocomplete.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.button.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.dialog.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.slider.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.tabs.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.datepicker.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.progressbar.css" rel="stylesheet" />
    <link href="Content/themes/base/jquery.ui.theme.css" rel="stylesheet" />
    <script src="https://spa-todo.azure-mobile.net/client/MobileServices.Web-1.0.0.min.js"></script>
</head>
<body>
    <div id="userSettings" style="display: none" data-bind="visible: user">
        Hello. <a href="#" data-bind="click: logOff">Log off.</a>
    </div>

    <div id="body">
        <header>
            <h1>My Todo List</h1>
        </header>

        <div id="main-content">
            <div style="display: none" data-bind="visible: user">
                <p class="error" data-bind="text: error"></p>
                <button data-bind="click: addTodoList">Add Todo list</button>

                <section id="lists" data-bind="foreach: todoLists, visible: todoLists().length > 0">
                    <article class="todoList">
                        <header>
                            <form data-bind="validate: true">
                                <input class="required" data-bind="value: title, selected: isEditingListTitle, blurOnEnter: true" />
                            </form>
                        </header>

                        <a href="#" class="deletelist" data-bind="click: $parent.deleteTodoList">X</a>

                        <ul data-bind="foreach: todos">
                            <li>
                                <input type="checkbox" data-bind="checked: isDone" />
                                <input class="todoItemInput" type="text" data-bind="value: title, disable: isDone, blurOnEnter: true" />
                                <a href="#" data-bind="click: $parent.deleteTodo">X</a>
                                <p class="error" data-bind="visible: errorMessage, text: errorMessage"></p>
                            </li>
                        </ul>

                        <form data-bind="submit: addTodo">
                            <input class="addTodo" type="text" data-bind="value: newTodoTitle, placeholder: 'Type here to add', blurOnEnter: true, event: { blur: addTodo }" />
                        </form>

                        <p class="error" data-bind="visible: errorMessage, text: errorMessage"></p>
                    </article>
                </section>
            </div>
            <div data-bind="visible: user() == null">
                <div class="todoList" id="loginPanel">
                    <section id="localLoginPanel">
                        <h2>Log in</h2>
                        <div id="externalLogins">
                            <div><button data-bind="click: logIn.bind($data, 'facebook')">Facebook</button></div>
                            <div><button data-bind="click: logIn.bind($data, 'microsoftaccount')">Microsoft Account</button></div>
                        </div>
                    </section>
                </div>
            </div>
        </div>

    </div>

    <footer>
        <nav>
            <ul id="menu">
                <li><a href="/Index.html">Todo List</a></li>
            </ul>
        </nav>
        <p>Learn more about <a href="http://go.microsoft.com/fwlink/?LinkId=273732">Single Page Applications</a></p>
        <p>&copy; 2013 - My ASP.NET MVC Application</p>
    </footer>

    <script src="Scripts/jquery-1.8.2.js"></script>
    <script src="Scripts/jquery-ui-1.8.24.js"></script>
    <script src="Scripts/knockout-2.2.0.debug.js"></script>
    <script src="Scripts/jquery.unobtrusive-ajax.js"></script>
    <script src="Scripts/jquery.validate.js"></script>
    <script src="Scripts/jquery.validate.unobtrusive.js"></script>
    <script src="Scripts/app/todo.bindings.js"></script>
    <script src="Scripts/app/todo.datacontext.js"></script>
    <script src="Scripts/app/todo.model.js"></script>
    <script src="Scripts/app/todo.viewmodel.js"></script>

</body>
</html>


